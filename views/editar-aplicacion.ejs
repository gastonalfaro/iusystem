<% layout('\\layout\\layout') -%>
  <ol class="breadcrumb">
    <li class="breadcrumb-item"><a href="/aplicaciones">Aplicaciones</a></li>
    <li class="breadcrumb-item active">Edición de aplicación</li>
  </ol>
  <div class="container" style="margin-top: 30px">
    <h3>Edición de aplicación</h3>
    <hr>
    <form id="form">
      <div class="form-group row">
        <label class="col-2 col-form-label">Key</label>
        <label class="col-10 col-form-label" value=""><%= aplicacion.app_key %></label>
      </div>
      <div class="form-group row">
        <label for="nombre" class="col-2 col-form-label">Aplicación</label>
        <div class="col-10">
          <input id="nombre" type="text" name="nombre" class="form-control" value="<%= aplicacion.nombre %>">
        </div>
      </div>
      <div class="form-group row">
        <label for="url" class="col-2 col-form-label">URL</label>
        <div class="col-10">
          <input id="url" type="text" name="url" class="form-control" value="<%= aplicacion.url %>">
        </div>
      </div>
      <div class="form-group row">
        <label class="col-2 col-form-label">Secreto</label>
        <label class="col-10 col-form-label" style="word-break: break-word;"><%= aplicacion.secreto %></label>
      </div>
      <div class="form-group">
        <div id="editor" style="height: 500px;border:1px solid grey"></div>
        <div id="esquema" style="display: none;">
          <%= aplicacion.esquema %>
        </div>
      </div>

      <button id="submit" type="submit" class="btn btn-default">Guardar</button>
    </form>
    </dd>
    </dl>
    <script>
      var require = { paths: { 'vs': '/monaco-editor/min/vs' } };
    </script>
    <script src="../monaco-editor/min/vs/loader.js"></script>
    <script src="../monaco-editor/min/vs/editor/editor.main.nls.js"></script>
    <script src="../monaco-editor/min/vs/editor/editor.main.js"></script>

    <script>
      require.config({ paths: { 'vs': '../monaco-editor/min/vs' } });
      require(['vs/editor/editor.main'], function () {
        var editor = monaco.editor.create(document.getElementById('editor'), {
          value: JSON.stringify(JSON.parse(document.getElementById('esquema').textContent.trim()), null, 2),
          language: 'json',
          fontSize: 14
        });
      });
    </script>
    <script src="/js/aplicaciones.js"></script>
  </div>